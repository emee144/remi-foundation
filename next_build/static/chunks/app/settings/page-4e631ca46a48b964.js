(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},532:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},1847:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(2115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:u="",children:d,iconNode:c,...f}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:i?24*Number(n)/Number(s):n,className:o("lucide",u),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(f)&&{"aria-hidden":"true"},...f},[...c.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:i,...u}=r;return(0,a.createElement)(n,{ref:l,iconNode:t,className:o("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...u})});return r.displayName=s(e),r}},4652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return n}});let a=r(943),s=r(5040),o=r(1356),l=a._(r(1124));function n(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=o.Image},5239:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(4652),s=r.n(a)},7828:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8099:(e,t,r)=>{Promise.resolve().then(r.bind(r,9741))},9741:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(5155),s=r(2115),o=r(63),l=r(532),n=r(7828),i=r(5239);function u(e){let{value:t,setValue:r,placeholder:o,autoComplete:i}=e,[u,d]=(0,s.useState)(!1),c=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:c,type:u?"text":"password",placeholder:o,value:t,onChange:e=>r(e.target.value),autoComplete:i,className:"p-3 border rounded-lg w-full pr-10 focus:outline-none focus:ring-2 focus:ring-orange-400"}),(0,a.jsx)("button",{type:"button",onClick:()=>{d(!u),setTimeout(()=>{var e;return null==(e=c.current)?void 0:e.focus()},10)},className:"absolute top-1/2 right-3 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?(0,a.jsx)(l.A,{className:"w-5 h-5"}):(0,a.jsx)(n.A,{className:"w-5 h-5"})})]})}function d(){(0,o.useRouter)();let[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),[c,f]=(0,s.useState)(""),m=async()=>{if(r!==n)return void f("New passwords do not match");let a=localStorage.getItem("token");if(a)try{let s=await fetch("/api/settings/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({oldPassword:e,newPassword:r})}),o=await s.json();if(!s.ok)throw Error(o.message||"Failed to update password");f("Password updated successfully!"),t(""),l(""),d("")}catch(e){f(e.message)}};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-start px-4 py-12 bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,a.jsx)(i.default,{src:"/remilogo.jpeg",alt:"Remi Oseni Foundation Logo",width:80,height:80,className:"rounded-full mb-3"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Remi Oseni Foundation"})]}),(0,a.jsx)("h1",{className:"text-4xl font-extrabold text-orange-600 mb-8",children:"Settings"}),(0,a.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md",children:[c&&(0,a.jsx)("p",{className:"mb-4 text-center text-red-500 font-medium",children:c}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(u,{value:e,setValue:t,placeholder:"Old Password",autoComplete:"current-password"}),(0,a.jsx)(u,{value:r,setValue:l,placeholder:"New Password",autoComplete:"new-password"}),(0,a.jsx)(u,{value:n,setValue:d,placeholder:"Confirm New Password",autoComplete:"new-password"}),(0,a.jsx)("button",{onClick:m,className:"bg-orange-500 text-white py-3 rounded-lg hover:bg-orange-600 transition",children:"Update Password"})]})]})]})}}},e=>{e.O(0,[356,441,493,358],()=>e(e.s=8099)),_N_E=e.O()}]);